(function(e){function t(t){for(var n,o,s=t[0],l=t[1],r=t[2],d=0,b=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,r||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==c[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},c={app:0},a=[];function o(e){return s.p+"js/"+({webfontloader:"webfontloader"}[e]||e)+"."+{webfontloader:"1bb190be"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[],i=c[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=c[e]=[t,n]}));t.push(i[2]=n);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(e);var r=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(d);var i=c[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;r.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",r.name="ChunkLoadError",r.type=n,r.request=a,i[1](r)}c[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/invoice-app/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=r;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0aef":function(e,t,i){e.exports=i.p+"img/icon-arrow-down.d0be4207.svg"},"1af7":function(e,t,i){"use strict";i("ab83")},"1bde":function(e,t,i){},"29c8":function(e,t,i){"use strict";i("d5e8")},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function c(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=a,e.exports=c,c.id="4678"},"4e03":function(e,t,i){},"539e":function(e,t,i){"use strict";i("1bde")},"56d7":function(e,t,i){"use strict";i.r(t);var n=i("7a23");const c={key:0},a={key:0,class:"app flex flex-column"},o={class:"app-content flex flex-column"},s={key:1,class:"mobile-message flex flex-column"};function l(e,t,i,l,r,d){const u=Object(n["A"])("Navigation"),b=Object(n["A"])("Modal"),v=Object(n["A"])("InvoiceModal"),h=Object(n["A"])("router-view");return e.invoicesLoaded?(Object(n["v"])(),Object(n["g"])("div",c,[r.mobile?(Object(n["v"])(),Object(n["g"])("div",s,t[0]||(t[0]=[Object(n["h"])("h2",null,"Sorry, this app is not supported on Mobile Devices",-1),Object(n["h"])("p",null,"To use this app, please use a computer or Tablet",-1)]))):(Object(n["v"])(),Object(n["g"])("div",a,[Object(n["k"])(u),Object(n["h"])("div",o,[e.modalActive?(Object(n["v"])(),Object(n["e"])(b,{key:0})):Object(n["f"])("",!0),Object(n["k"])(n["b"],{name:"invoice"},{default:Object(n["J"])(()=>[e.invoiceModal?(Object(n["v"])(),Object(n["e"])(v,{key:0})):Object(n["f"])("",!0)]),_:1}),Object(n["k"])(h)])]))])):Object(n["f"])("",!0)}var r=i("5502"),d=i("e88b"),u=i.n(d);const b={class:"flex"};function v(e,t,i,c,a,o){return Object(n["v"])(),Object(n["g"])("header",b,t[0]||(t[0]=[Object(n["h"])("div",{class:"branding flex"},[Object(n["h"])("img",{src:u.a,alt:""})],-1)]))}var h={name:"navigation"},j=(i("896d"),i("6b0d")),p=i.n(j);const O=p()(h,[["render",v],["__scopeId","data-v-05c7f599"]]);var m=O,f=i("7345"),I=i.n(f),D=i("d0d5"),g=i.n(D);const y={key:0},E={key:1},T={class:"bill-from flex flex-column"},C={class:"input flex flex-column"},x={class:"location-details flex"},w={class:"input flex flex-column"},L={class:"bill-to flex flex-column"},_={class:"input flex flex-column"},N={class:"input flex flex-column"},k={class:"input flex flex-column"},S={class:"location-details flex"},P={class:"input flex flex-column"},A={class:"flex flex-column"},G={key:0},U={key:1},V={class:"invoice-work flex flex-column"},M={class:"payment flex"},z={class:"input flex flex-column"},Z={class:"input flex flex-column"},F={class:"input flex flex-column"},Q={class:"input flex flex-column"},R={class:"work-items"},K={class:"item-list"},q={class:"item-name"},Y=["onUpdate:modelValue"],W={class:"qty"},B=["onUpdate:modelValue"],H={class:"price"},J=["onUpdate:modelValue"],$={class:"total flex"},X=["onClick"],ee={class:"save flex"},te={class:"left"},ie={class:"right flex"},ne={key:2,type:"sumbit",class:"purple"};function ce(e,t,i,c,a,o){const s=Object(n["A"])("Loading");return Object(n["v"])(),Object(n["g"])("div",{onClick:t[15]||(t[15]=(...e)=>o.checkClick&&o.checkClick(...e)),ref:"invoiceWrap",class:"invoice-wrap flex flex-column"},[Object(n["h"])("form",{onSubmit:t[14]||(t[14]=Object(n["L"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"])),class:"invoice-content"},[Object(n["K"])(Object(n["k"])(s,null,null,512),[[n["H"],a.loading]]),e.editInvoice?(Object(n["v"])(),Object(n["g"])("h1",E,"Edit Subscription")):(Object(n["v"])(),Object(n["g"])("h1",y,"New Subscription")),Object(n["h"])("div",T,[t[18]||(t[18]=Object(n["h"])("h4",null,"Bill From",-1)),Object(n["h"])("div",C,[t[16]||(t[16]=Object(n["h"])("label",{for:"billerStreetAddress"},"Street Address",-1)),Object(n["K"])(Object(n["h"])("input",{disabled:"",type:"text",id:"billerStreetAddress","onUpdate:modelValue":t[0]||(t[0]=e=>a.billerStreetAddress=e)},null,512),[[n["G"],a.billerStreetAddress]])]),Object(n["h"])("div",x,[Object(n["h"])("div",w,[t[17]||(t[17]=Object(n["h"])("label",{for:"billerZipCode"},"Postal Code",-1)),Object(n["K"])(Object(n["h"])("input",{disabled:"",required:"",type:"text",id:"billerZipCode","onUpdate:modelValue":t[1]||(t[1]=e=>a.billerZipCode=e)},null,512),[[n["G"],a.billerZipCode]])])])]),Object(n["h"])("div",L,[t[23]||(t[23]=Object(n["h"])("h4",null,"Bill To",-1)),Object(n["h"])("div",_,[t[19]||(t[19]=Object(n["h"])("label",{for:"clientName"},"Client's Name",-1)),Object(n["K"])(Object(n["h"])("input",{required:"",type:"text",id:"clientName","onUpdate:modelValue":t[2]||(t[2]=e=>a.clientName=e)},null,512),[[n["G"],a.clientName]])]),Object(n["h"])("div",N,[t[20]||(t[20]=Object(n["h"])("label",{for:"clientEmail"},"Client's Email",-1)),Object(n["K"])(Object(n["h"])("input",{required:"",type:"text",id:"clientEmail","onUpdate:modelValue":t[3]||(t[3]=e=>a.clientEmail=e)},null,512),[[n["G"],a.clientEmail]])]),Object(n["h"])("div",k,[t[21]||(t[21]=Object(n["h"])("label",{for:"clientStreetAddress"},"Street Address",-1)),Object(n["K"])(Object(n["h"])("input",{required:"",type:"text",id:"clientStreetAddress","onUpdate:modelValue":t[4]||(t[4]=e=>a.clientStreetAddress=e)},null,512),[[n["G"],a.clientStreetAddress]])]),Object(n["h"])("div",S,[Object(n["h"])("div",P,[t[22]||(t[22]=Object(n["h"])("label",{for:"clientZipCode"},"Postal Code",-1)),Object(n["K"])(Object(n["h"])("input",{required:"",type:"text",id:"clientZipCode","onUpdate:modelValue":t[5]||(t[5]=e=>a.clientZipCode=e)},null,512),[[n["G"],a.clientZipCode]])])])]),Object(n["h"])("div",A,[this.editInvoice?(Object(n["v"])(),Object(n["g"])("label",G,"Invoice Date before Edit: "+Object(n["D"])(this.tempDate),1)):Object(n["f"])("",!0),this.renewInvoice?(Object(n["v"])(),Object(n["g"])("label",U,"Previous Payment Due Date: "+Object(n["D"])(this.tempDate),1)):Object(n["f"])("",!0)]),Object(n["h"])("div",V,[Object(n["h"])("div",M,[Object(n["h"])("div",z,[t[24]||(t[24]=Object(n["h"])("label",{for:"invoiceDate"},"Start Date",-1)),Object(n["K"])(Object(n["h"])("input",{type:"date",id:"invoiceDate","onUpdate:modelValue":t[6]||(t[6]=e=>a.invoiceDate=e)},null,512),[[n["G"],a.invoiceDate]])]),Object(n["h"])("div",Z,[t[25]||(t[25]=Object(n["h"])("label",{for:"paymentDueDate"},"End Date",-1)),Object(n["K"])(Object(n["h"])("input",{disabled:"",type:"text",id:"paymentDueDate","onUpdate:modelValue":t[7]||(t[7]=e=>a.paymentDueDate=e)},null,512),[[n["G"],a.paymentDueDate]])])]),Object(n["h"])("div",F,[t[27]||(t[27]=Object(n["h"])("label",{for:"paymentTerms"},"Subscription Terms",-1)),Object(n["K"])(Object(n["h"])("select",{required:"",type:"text",id:"paymentTerms","onUpdate:modelValue":t[8]||(t[8]=e=>a.paymentTerms=e)},t[26]||(t[26]=[Object(n["i"])('<option value="1" data-v-4ca75a9c>Net 1 Year</option><option value="2" data-v-4ca75a9c>Net 2 Years</option><option value="3" data-v-4ca75a9c>Net 3 Years</option><option value="4" data-v-4ca75a9c>Net 4 Years</option><option value="5" data-v-4ca75a9c>Net 5 Years</option>',5)]),512),[[n["F"],a.paymentTerms]])]),Object(n["h"])("div",Q,[t[28]||(t[28]=Object(n["h"])("label",{for:"productDescription"},"Description",-1)),Object(n["K"])(Object(n["h"])("textarea",{required:"",rows:"6",type:"text",id:"productDescription","onUpdate:modelValue":t[9]||(t[9]=e=>a.productDescription=e)},null,512),[[n["G"],a.productDescription]])]),Object(n["h"])("div",R,[t[31]||(t[31]=Object(n["h"])("h3",null,"Item List",-1)),Object(n["h"])("table",K,[t[29]||(t[29]=Object(n["h"])("tr",{class:"table-heading flex"},[Object(n["h"])("th",{class:"item-name"},"Item Name"),Object(n["h"])("th",{class:"qty"},"Qty"),Object(n["h"])("th",{class:"price"},"Price"),Object(n["h"])("th",{class:"total"},"Total")],-1)),(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.invoiceItemList,(e,t)=>(Object(n["v"])(),Object(n["g"])("tr",{class:"table-items flex",key:t},[Object(n["h"])("td",q,[Object(n["K"])(Object(n["h"])("textarea",{rows:"2",type:"text","onUpdate:modelValue":t=>e.itemName=t},null,8,Y),[[n["G"],e.itemName]])]),Object(n["h"])("td",W,[Object(n["K"])(Object(n["h"])("input",{type:"number",min:"0","onUpdate:modelValue":t=>e.qty=t},null,8,B),[[n["G"],e.qty]])]),Object(n["h"])("td",H,[Object(n["K"])(Object(n["h"])("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":t=>e.price=t},null,8,J),[[n["G"],e.price]])]),Object(n["h"])("td",$,"$"+Object(n["D"])((e.total=e.qty*e.price).toFixed(2)),1),Object(n["h"])("img",{onClick:t=>o.deleteInvoiceItem(e.id),src:I.a,alt:""},null,8,X)]))),128))]),Object(n["h"])("div",{onClick:t[10]||(t[10]=(...e)=>o.addNewInvoiceItem&&o.addNewInvoiceItem(...e)),class:"flex button"},t[30]||(t[30]=[Object(n["h"])("img",{src:g.a,alt:""},null,-1),Object(n["j"])(" Add New Item ")]))])]),Object(n["h"])("div",ee,[Object(n["h"])("div",te,[Object(n["h"])("button",{type:"button",onClick:t[11]||(t[11]=(...e)=>o.closeInvoice&&o.closeInvoice(...e)),class:"red"},"Cancel")]),Object(n["h"])("div",ie,[e.editInvoice?Object(n["f"])("",!0):(Object(n["v"])(),Object(n["g"])("button",{key:0,type:"submit",onClick:t[12]||(t[12]=(...e)=>o.saveDraft&&o.saveDraft(...e)),class:"dark-purple"},"Save Draft")),e.editInvoice?Object(n["f"])("",!0):(Object(n["v"])(),Object(n["g"])("button",{key:1,type:"submit",onClick:t[13]||(t[13]=(...e)=>o.publishInvoice&&o.publishInvoice(...e)),class:"purple"},"Create Subscription")),e.editInvoice?(Object(n["v"])(),Object(n["g"])("button",ne,"Update Subscription")):Object(n["f"])("",!0)])])],32)],512)}i("14d9"),i("0643"),i("2382"),i("4e3e");var ae=i("aedf");i("5cb3");const oe={apiKey:"AIzaSyC4W-MeS0Qg8nd09hSo1KDIzgel9wwnzig",authDomain:"idealtech-reminder-app.firebaseapp.com",projectId:"idealtech-reminder-app",storageBucket:"idealtech-reminder-app.appspot.com",messagingSenderId:"707633480338",appId:"1:707633480338:web:837e3e46fbe0cc8d52dc4b"},se=ae["a"].initializeApp(oe);var le=se.firestore();const re={class:"loading"};function de(e,t,i,c,a,o){return Object(n["v"])(),Object(n["g"])("div",re,t[0]||(t[0]=[Object(n["h"])("span",null,null,-1)]))}var ue={name:"loading"};i("7341");const be=p()(ue,[["render",de]]);var ve=be,he=i("8a77"),je={name:"invoiceModal",data(){return{dateOptions:{year:"numeric",month:"numeric",day:"numeric"},docId:null,loading:null,billerStreetAddress:"Block 134 Jurong Gateway Road #02-309",billerZipCode:600134,clientName:null,clientEmail:null,clientStreetAddress:null,clientZipCode:null,invoiceDateUnix:null,invoiceDate:null,paymentTerms:null,paymentDueDateUnix:null,paymentDueDate:null,productDescription:null,invoicePending:null,invoiceDraft:null,invoiceItemList:[],invoiceTotal:0,tempDate:null}},components:{Loading:ve},created(){if(this.editInvoice||this.renewInvoice||(this.invoiceDateUnix=Date.now(),this.invoiceDate=new Date(this.invoiceDateUnix).toLocaleDateString("en-gb").split("/").reverse().join("-")),this.editInvoice){const e=this.currentInvoiceArray[0];this.docId=e.docId,this.billerStreetAddress=e.billerStreetAddress,this.billerZipCode=e.billerZipCode,this.clientName=e.clientName,this.clientEmail=e.clientEmail,this.clientStreetAddress=e.clientStreetAddress,this.clientZipCode=e.clientZipCode,this.invoiceDateUnix=e.invoiceDateUnix,this.invoiceDate=e.invoiceDate,this.paymentTerms=e.paymentTerms,this.paymentDueDateUnix=e.paymentDueDateUnix,this.paymentDueDate=new Date(e.paymentDueDate).toLocaleDateString("en-gb"),this.productDescription=e.productDescription,this.invoicePending=e.invoicePending,this.invoiceDraft=e.invoiceDraft,this.invoiceItemList=e.invoiceItemList,this.invoiceTotal=e.invoiceTotal,this.tempDate=new Date(e.invoiceDate).toLocaleDateString("en-gb")}if(this.renewInvoice){const e=this.currentInvoiceArray[0];this.billerStreetAddress=e.billerStreetAddress,this.billerZipCode=e.billerZipCode,this.clientName=e.clientName,this.clientEmail=e.clientEmail,this.clientStreetAddress=e.clientStreetAddress,this.clientZipCode=e.clientZipCode,this.tempDate=new Date(e.paymentDueDate).toLocaleDateString("en-gb");const t=new Date(e.paymentDueDate);this.invoiceDateUnix=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1).getTime(),this.invoiceDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1).toLocaleDateString("en-gb").split("/").reverse().join("-");const i=new Date(this.invoiceDate);this.paymentDueDateUnix=new Date(i.getFullYear()+parseInt(e.paymentTerms),i.getMonth(),i.getDate()-1).getTime(),this.paymentDueDate=new Date(i.getFullYear()+parseInt(e.paymentTerms),i.getMonth(),i.getDate()-1).toLocaleDateString("en-gb"),this.productDescription=e.productDescription,this.invoicePending=e.invoicePending,this.invoiceDraft=e.invoiceDraft,this.invoiceItemList=e.invoiceItemList,this.invoiceTotal=e.invoiceTotal,this.paymentTerms=e.paymentTerms}},methods:{...Object(r["c"])(["TOGGLE_INVOICE","TOGGLE_MODAL","TOGGLE_EDIT_INVOICE","TOGGLE_RENEW_INVOICE"]),...Object(r["b"])(["UPDATE_INVOICE","GET_INVOICES"]),checkClick(e){e.target===this.$refs.invoiceWrap&&this.TOGGLE_MODAL()},closeInvoice(){this.TOGGLE_INVOICE(),this.editInvoice?this.TOGGLE_EDIT_INVOICE():this.renewInvoice&&this.TOGGLE_RENEW_INVOICE()},addNewInvoiceItem(){this.invoiceItemList.push({id:Object(he["a"])(),itemName:"",qty:"",price:0,total:0})},deleteInvoiceItem(e){this.invoiceItemList=this.invoiceItemList.filter(t=>t.id!==e)},calInvoiceTotal(){this.invoiceTotal=0,this.invoiceItemList.forEach(e=>{this.invoiceTotal+=e.total}),this.invoiceTotal},publishInvoice(){this.invoicePending=!0,this.invoiceDraft=!1},saveDraft(){this.invoiceDraft=!0,this.invoicePending=!1},async uploadInvoice(){if(this.invoiceItemList.length<=0)return void alert("Please add an item!");this.loading=!0,this.calInvoiceTotal();const e=le.collection("invoices").doc();this.invoiceItemList.forEach(e=>{e.total=e.total.toFixed(2)});var t=await le.collection("invoices").where("invoiceDateUnix",">=",(new Date).getFullYear()).get(),i=(t.docs.length+1).toString().padStart(3,"0"),n=(new Date).getFullYear()+i;await e.set({invoiceId:n,billerStreetAddress:this.billerStreetAddress,billerZipCode:this.billerZipCode,clientName:this.clientName,clientEmail:this.clientEmail,clientStreetAddress:this.clientStreetAddress,clientZipCode:this.clientZipCode,invoiceDate:this.invoiceDate,invoiceDateUnix:this.invoiceDateUnix,paymentTerms:this.paymentTerms,paymentDueDate:this.paymentDueDate.split("/").reverse().join("-"),paymentDueDateUnix:this.paymentDueDateUnix,productDescription:this.productDescription,invoiceItemList:this.invoiceItemList,invoiceTotal:this.invoiceTotal.toFixed(2),invoicePending:this.invoicePending,invoiceDraft:this.invoiceDraft,invoicePaid:null}),this.loading=!1,this.TOGGLE_INVOICE(),this.GET_INVOICES()},async updateInvoice(){if(this.invoiceItemList.length<=0)return void alert("Please ensure you filled out work items!");this.loading=!0,this.calInvoiceTotal(),this.invoiceItemList.forEach(e=>{e.total=e.total.toFixed(2)});const e=le.collection("invoices").doc(this.docId);await e.update({billerStreetAddress:this.billerStreetAddress,billerZipCode:this.billerZipCode,clientName:this.clientName,clientEmail:this.clientEmail,clientStreetAddress:this.clientStreetAddress,clientZipCode:this.clientZipCode,paymentTerms:this.paymentTerms,invoiceDate:this.invoiceDate,invoiceDateUnix:this.invoiceDateUnix,paymentDueDate:this.paymentDueDate.split("/").reverse().join("-"),paymentDueDateUnix:this.paymentDueDateUnix,productDescription:this.productDescription,invoiceItemList:this.invoiceItemList,invoiceTotal:this.invoiceTotal.toFixed(2)}),this.loading=!1;const t={docId:this.docId,routeId:this.$route.params.invoiceId};this.UPDATE_INVOICE(t)},submitForm(){this.editInvoice?this.updateInvoice():this.uploadInvoice()}},computed:{...Object(r["d"])(["editInvoice","renewInvoice","currentInvoiceArray"])},watch:{paymentTerms(){const e=new Date(this.invoiceDate);this.invoiceDateUnix=e.getTime();const t=new Date(e);this.paymentDueDateUnix=new Date(t.getFullYear()+parseInt(this.paymentTerms),t.getMonth(),t.getDate()-1).getTime(),this.paymentDueDate=new Date(t.getFullYear()+parseInt(this.paymentTerms),t.getMonth(),t.getDate()-1).toLocaleDateString("en-gb")},invoiceDate(){this.paymentDueDateUnix=0,this.paymentDueDate="",this.paymentTerms=""}}};i("29c8");const pe=p()(je,[["render",ce],["__scopeId","data-v-4ca75a9c"]]);var Oe=pe;const me={class:"modal flex"},fe={class:"modal-content"},Ie={class:"actions flex"};function De(e,t,i,c,a,o){return Object(n["v"])(),Object(n["g"])("div",me,[Object(n["h"])("div",fe,[t[2]||(t[2]=Object(n["h"])("p",null,"Are you sure you want to exit? Your changes will not be saved.",-1)),Object(n["h"])("div",Ie,[Object(n["h"])("button",{onClick:t[0]||(t[0]=(...e)=>o.closeModal&&o.closeModal(...e)),class:"purple"},"Return"),Object(n["h"])("button",{onClick:t[1]||(t[1]=(...e)=>o.closeInvoice&&o.closeInvoice(...e)),class:"red"},"Close")])])])}var ge={name:"modal",methods:{...Object(r["c"])(["TOGGLE_MODAL","TOGGLE_INVOICE","TOGGLE_EDIT_INVOICE","TOGGLE_RENEW_INVOICE"]),closeModal(){this.TOGGLE_MODAL()},closeInvoice(){this.TOGGLE_MODAL(),this.TOGGLE_INVOICE(),this.editInvoice?this.TOGGLE_EDIT_INVOICE():this.renewInvoice&&this.TOGGLE_RENEW_INVOICE()}},computed:{...Object(r["d"])(["editInvoice","renewInvoice"])}};i("539e");const ye=p()(ge,[["render",De],["__scopeId","data-v-5027ec5b"]]);var Ee=ye,Te={data(){return{mobile:null}},components:{Navigation:m,InvoiceModal:Oe,Modal:Ee},created(){this.GET_INVOICES(),this.checkScreen(),window.addEventListener("resize",this.checkScreen)},methods:{...Object(r["b"])(["GET_INVOICES"]),checkScreen(){const e=window.innerWidth;this.mobile=e<=750}},computed:{...Object(r["d"])(["invoiceModal","modalActive","invoicesLoaded"])}};i("1af7");const Ce=p()(Te,[["render",l]]);var xe=Ce,we=i("6605"),Le=i("0aef"),_e=i.n(Le),Ne=i("952f"),ke=i.n(Ne);const Se={class:"home container"},Pe={class:"header flex"},Ae={class:"left flex flex-column"},Ge={class:"right flex"},Ue={key:0},Ve={class:"filter-menu"},Me={key:0},ze={key:1,class:"empty flex flex-column"};function Ze(e,t,i,c,a,o){const s=Object(n["A"])("Invoice");return Object(n["v"])(),Object(n["g"])("div",Se,[Object(n["h"])("div",Pe,[Object(n["h"])("div",Ae,[t[7]||(t[7]=Object(n["h"])("h1",null,"Subscriptions",-1)),Object(n["h"])("span",null,"There are "+Object(n["D"])(e.invoiceData.length)+" total subscriptions",1)]),Object(n["h"])("div",Ge,[Object(n["h"])("div",{onClick:t[4]||(t[4]=(...e)=>o.toggleFilterMenu&&o.toggleFilterMenu(...e)),class:"filter flex"},[Object(n["h"])("span",null,[t[8]||(t[8]=Object(n["j"])(" Filter by status ")),a.filteredInvoice?(Object(n["v"])(),Object(n["g"])("span",Ue,": "+Object(n["D"])(a.filteredInvoice),1)):Object(n["f"])("",!0)]),t[9]||(t[9]=Object(n["h"])("img",{src:_e.a,alt:""},null,-1)),Object(n["K"])(Object(n["h"])("ul",Ve,[Object(n["h"])("li",{onClick:t[0]||(t[0]=(...e)=>o.filteredInvoices&&o.filteredInvoices(...e))},"Draft"),Object(n["h"])("li",{onClick:t[1]||(t[1]=(...e)=>o.filteredInvoices&&o.filteredInvoices(...e))},"Pending"),Object(n["h"])("li",{onClick:t[2]||(t[2]=(...e)=>o.filteredInvoices&&o.filteredInvoices(...e))},"Paid"),Object(n["h"])("li",{onClick:t[3]||(t[3]=(...e)=>o.filteredInvoices&&o.filteredInvoices(...e))},"Clear Filter")],512),[[n["H"],a.filterMenu]])]),Object(n["h"])("div",{onClick:t[5]||(t[5]=(...e)=>o.newInvoice&&o.newInvoice(...e)),class:"button flex"},t[10]||(t[10]=[Object(n["h"])("div",{class:"inner-button flex"},[Object(n["h"])("img",{src:g.a,alt:""})],-1),Object(n["h"])("span",null,"New Subscription",-1)]))])]),Object(n["h"])("div",null,[Object(n["K"])(Object(n["h"])("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.searchQuery=e),type:"text",placeholder:"Search"},null,512),[[n["G"],a.searchQuery]])]),e.invoiceData.length>0?(Object(n["v"])(),Object(n["g"])("div",Me,[(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(o.filteredData,(e,t)=>(Object(n["v"])(),Object(n["e"])(s,{invoice:e,key:t},null,8,["invoice"]))),128))])):(Object(n["v"])(),Object(n["g"])("div",ze,t[11]||(t[11]=[Object(n["h"])("img",{src:ke.a,alt:""},null,-1),Object(n["h"])("h3",null,"There is nothing here",-1),Object(n["h"])("p",null,"Create a new subscription by clicking the New Subscription button and get started",-1)])))])}i("9a9a");var Fe=i("c43b"),Qe=i.n(Fe);const Re={class:"left flex"},Ke={class:"tracking-number"},qe={class:"due-date"},Ye={key:0},We={class:"person"},Be={class:"right flex"},He={class:"price"},Je={key:0},$e={key:1},Xe={key:2};function et(e,t,i,c,a,o){const s=Object(n["A"])("router-link");return Object(n["v"])(),Object(n["e"])(s,{class:"invoice flex",to:{name:"Invoice",params:{invoiceId:i.invoice.invoiceId}}},{default:Object(n["J"])(()=>[Object(n["h"])("div",Re,[Object(n["h"])("span",Ke,"#"+Object(n["D"])(i.invoice.invoiceId),1),Object(n["h"])("span",qe,[Object(n["j"])(Object(n["D"])(new Date(i.invoice.paymentDueDate).toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"}))+" ",1),t[0]||(t[0]=Object(n["h"])("br",null,null,-1)),i.invoice.invoicePending?(Object(n["v"])(),Object(n["g"])("p",Ye,"("+Object(n["D"])(o.calculateTimeLeft())+")",1)):Object(n["f"])("",!0)]),Object(n["h"])("span",We,Object(n["D"])(i.invoice.clientName),1)]),Object(n["h"])("div",Be,[Object(n["h"])("span",He,"$"+Object(n["D"])(i.invoice.invoiceTotal),1),Object(n["h"])("div",{class:Object(n["r"])(["status-button flex",{paid:i.invoice.invoicePaid,draft:i.invoice.invoiceDraft,"pending-red":"pending-red"==o.calculatePendingclass()&&i.invoice.invoicePending,"pending-orange":"pending-orange"==o.calculatePendingclass()&&i.invoice.invoicePending,"pending-green":"pending-green"==o.calculatePendingclass()&&i.invoice.invoicePending}])},[i.invoice.invoicePaid?(Object(n["v"])(),Object(n["g"])("span",Je,"Paid")):Object(n["f"])("",!0),i.invoice.invoiceDraft?(Object(n["v"])(),Object(n["g"])("span",$e,"Draft")):Object(n["f"])("",!0),i.invoice.invoicePending?(Object(n["v"])(),Object(n["g"])("span",Xe,"Pending")):Object(n["f"])("",!0)],2),t[1]||(t[1]=Object(n["h"])("div",{class:"icon"},[Object(n["h"])("img",{src:Qe.a,alt:""})],-1))])]),_:1},8,["to"])}var tt=i("c1df"),it=i.n(tt),nt={name:"invoice",props:["invoice"],methods:{calculateTimeLeft:function(){var e=it()(),t=it()(new Date(this.invoice.paymentDueDate)),i=t.diff(e);return i<0?"Overdue":it.a.duration(i).humanize()},calculateTimeLeftInMonths:function(){var e=it()(),t=it()(new Date(this.invoice.paymentDueDate)),i=t.diff(e,"months");return i},calculatePendingclass:function(){var e=this.calculateTimeLeft(),t=this.calculateTimeLeftInMonths();return"Overdue"===e?"pending-red":t<=2?"pending-orange":"pending-green"}}};i("7161");const ct=p()(nt,[["render",et],["__scopeId","data-v-49e8949b"]]);var at=ct,ot={name:"Home",data(){return{searchQuery:"",filterMenu:null,filteredInvoice:null}},components:{Invoice:at},methods:{...Object(r["c"])(["TOGGLE_INVOICE"]),newInvoice(){this.TOGGLE_INVOICE()},toggleFilterMenu(){this.filterMenu=!this.filterMenu},filteredInvoices(e){"Clear Filter"!==e.target.innerText?this.filteredInvoice=e.target.innerText:this.filteredInvoice=null}},computed:{...Object(r["d"])(["invoiceData"]),filteredData(){return this.invoiceData.filter(e=>"Draft"===this.filteredInvoice?!0===e.invoiceDraft&&(e.clientName.toLowerCase().includes(this.searchQuery.toLowerCase())||e.paymentDueDate.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceId.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceItemList.some(e=>e.itemName.toLowerCase().includes(this.searchQuery.toLowerCase()))||e.productDescription.toLowerCase().includes(this.searchQuery.toLowerCase())):"Pending"===this.filteredInvoice?!0===e.invoicePending&&(e.clientName.toLowerCase().includes(this.searchQuery.toLowerCase())||e.paymentDueDate.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceId.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceItemList.some(e=>e.itemName.toLowerCase().includes(this.searchQuery.toLowerCase()))||e.productDescription.toLowerCase().includes(this.searchQuery.toLowerCase())):"Paid"===this.filteredInvoice?!0===e.invoicePaid&&(e.clientName.toLowerCase().includes(this.searchQuery.toLowerCase())||e.paymentDueDate.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceId.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceItemList.some(e=>e.itemName.toLowerCase().includes(this.searchQuery.toLowerCase()))||e.productDescription.toLowerCase().includes(this.searchQuery.toLowerCase())):e.clientName.toLowerCase().includes(this.searchQuery.toLowerCase())||e.paymentDueDate.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceId.toLowerCase().includes(this.searchQuery.toLowerCase())||e.invoiceItemList.some(e=>e.itemName.toLowerCase().includes(this.searchQuery.toLowerCase()))||e.productDescription.toLowerCase().includes(this.searchQuery.toLowerCase()))}}};i("b3dc");const st=p()(ot,[["render",Ze],["__scopeId","data-v-3d4b65cc"]]);var lt=st,rt=i("9ef1"),dt=i.n(rt);const ut={key:0,class:"invoice-view container"},bt={class:"header flex"},vt={class:"left flex"},ht={key:0},jt={key:1},pt={key:2},Ot={class:"right flex"},mt={class:"invoice-details flex flex-column"},ft={class:"top flex"},It={class:"left flex flex-column"},Dt={class:"right flex flex-column"},gt={class:"middle flex"},yt={class:"payment flex flex-column"},Et={key:0},Tt={class:"bill flex flex-column"},Ct={class:"send-to flex flex-column"},xt={class:"bottom flex flex-column"},wt={class:"billing-items"},Lt={class:"total flex"};function _t(e,t,i,c,a,o){const s=Object(n["A"])("router-link");return a.currentInvoice?(Object(n["v"])(),Object(n["g"])("div",ut,[Object(n["k"])(s,{class:"nav-link flex",to:{name:"Home"}},{default:Object(n["J"])(()=>t[5]||(t[5]=[Object(n["h"])("img",{src:dt.a,alt:""},null,-1),Object(n["j"])(" Go Back ")])),_:1}),Object(n["h"])("div",bt,[Object(n["h"])("div",vt,[t[6]||(t[6]=Object(n["h"])("span",null,"Status",-1)),Object(n["h"])("div",{class:Object(n["r"])(["status-button flex",{paid:a.currentInvoice.invoicePaid,draft:a.currentInvoice.invoiceDraft,"pending-red":"pending-red"==o.calculatePendingclass()&&a.currentInvoice.invoicePending,"pending-orange":"pending-orange"==o.calculatePendingclass()&&a.currentInvoice.invoicePending,"pending-green":"pending-green"==o.calculatePendingclass()&&a.currentInvoice.invoicePending}])},[a.currentInvoice.invoicePaid?(Object(n["v"])(),Object(n["g"])("span",ht,"Paid")):Object(n["f"])("",!0),a.currentInvoice.invoiceDraft?(Object(n["v"])(),Object(n["g"])("span",jt,"Draft")):Object(n["f"])("",!0),a.currentInvoice.invoicePending?(Object(n["v"])(),Object(n["g"])("span",pt,"Pending")):Object(n["f"])("",!0)],2)]),Object(n["h"])("div",Ot,[Object(n["h"])("button",{onClick:t[0]||(t[0]=(...e)=>o.toggleRenewInvoice&&o.toggleRenewInvoice(...e)),class:"dark-purple"}," Renew "),Object(n["h"])("button",{onClick:t[1]||(t[1]=(...e)=>o.toggleEditInvoice&&o.toggleEditInvoice(...e)),class:"dark-purple"},"Edit"),Object(n["h"])("button",{onClick:t[2]||(t[2]=e=>o.deleteInvoice(a.currentInvoice.docId)),class:"red"},"Delete"),a.currentInvoice.invoicePending?(Object(n["v"])(),Object(n["g"])("button",{key:0,onClick:t[3]||(t[3]=e=>o.updateStatusToPaid(a.currentInvoice.docId)),class:"green"}," Mark as Paid ")):Object(n["f"])("",!0),a.currentInvoice.invoiceDraft||a.currentInvoice.invoicePaid?(Object(n["v"])(),Object(n["g"])("button",{key:1,onClick:t[4]||(t[4]=e=>o.updateStatusToPending(a.currentInvoice.docId)),class:"orange"}," Mark as Pending ")):Object(n["f"])("",!0)])]),Object(n["h"])("div",mt,[Object(n["h"])("div",ft,[Object(n["h"])("div",It,[Object(n["h"])("p",null,[t[7]||(t[7]=Object(n["h"])("span",null,"#",-1)),Object(n["j"])(Object(n["D"])(a.currentInvoice.invoiceId),1)]),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.productDescription),1)]),Object(n["h"])("div",Dt,[Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.billerStreetAddress),1),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.billerZipCode),1)])]),Object(n["h"])("div",gt,[Object(n["h"])("div",yt,[t[8]||(t[8]=Object(n["h"])("h4",null,"Start Date",-1)),Object(n["h"])("p",null,Object(n["D"])(new Date(a.currentInvoice.invoiceDate).toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"})),1),t[9]||(t[9]=Object(n["h"])("h4",null,"End Date",-1)),Object(n["h"])("p",null,Object(n["D"])(new Date(a.currentInvoice.paymentDueDate).toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"})),1),a.currentInvoice.invoicePending?(Object(n["v"])(),Object(n["g"])("span",Et,"("+Object(n["D"])(o.calculateTimeLeft())+")",1)):Object(n["f"])("",!0)]),Object(n["h"])("div",Tt,[t[10]||(t[10]=Object(n["h"])("h4",null,"Bill To",-1)),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.clientName),1),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.clientStreetAddress),1),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.clientZipCode),1)]),Object(n["h"])("div",Ct,[t[11]||(t[11]=Object(n["h"])("h4",null,"Sent To",-1)),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.clientEmail),1)])]),Object(n["h"])("div",xt,[Object(n["h"])("div",wt,[t[12]||(t[12]=Object(n["h"])("div",{class:"heading flex"},[Object(n["h"])("p",null,"Item Name"),Object(n["h"])("p",null,"Qty"),Object(n["h"])("p",null,"Price"),Object(n["h"])("p",null,"Total")],-1)),(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(a.currentInvoice.invoiceItemList,(e,t)=>(Object(n["v"])(),Object(n["g"])("div",{key:t,class:"item flex"},[Object(n["h"])("p",null,Object(n["D"])(e.itemName),1),Object(n["h"])("p",null,Object(n["D"])(e.qty),1),Object(n["h"])("p",null,Object(n["D"])(e.price.toFixed(2)),1),Object(n["h"])("p",null,Object(n["D"])(parseFloat(e.total).toFixed(2)),1)]))),128))]),Object(n["h"])("div",Lt,[t[13]||(t[13]=Object(n["h"])("p",null,"Amount Due",-1)),Object(n["h"])("p",null,Object(n["D"])(a.currentInvoice.invoiceTotal),1)])])])])):Object(n["f"])("",!0)}var Nt={name:"invoiceView",data(){return{currentInvoice:null}},created(){this.getCurrentInvoice()},methods:{...Object(r["c"])(["SET_CURRENT_INVOICE","TOGGLE_EDIT_INVOICE","TOGGLE_INVOICE","TOGGLE_RENEW_INVOICE"]),...Object(r["b"])(["DELETE_INVOICE","UPDATE_STATUS_TO_PENDING","UPDATE_STATUS_TO_PAID"]),getCurrentInvoice(){this.SET_CURRENT_INVOICE(this.$route.params.invoiceId),this.currentInvoice=this.currentInvoiceArray[0]},toggleEditInvoice(){this.TOGGLE_EDIT_INVOICE(),this.TOGGLE_INVOICE()},toggleRenewInvoice(){this.TOGGLE_RENEW_INVOICE(),this.TOGGLE_INVOICE()},async deleteInvoice(e){await this.DELETE_INVOICE(e),this.$router.push({name:"Home"})},updateStatusToPaid(e){this.UPDATE_STATUS_TO_PAID(e)},updateStatusToPending(e){this.UPDATE_STATUS_TO_PENDING(e)},calculateTimeLeft:function(){var e=it()(),t=it()(this.currentInvoice.paymentDueDate),i=t.diff(e);return i<0?"Overdue":"Due in "+it.a.duration(i).humanize()},calculateTimeLeftInMonths:function(){var e=it()(),t=it()(this.currentInvoice.paymentDueDate),i=t.diff(e,"months");return i},calculatePendingclass:function(){var e=this.calculateTimeLeft(),t=this.calculateTimeLeftInMonths();return"Overdue"===e?"pending-red":t<=2?"pending-orange":"pending-green"}},computed:{...Object(r["d"])(["currentInvoiceArray","renewInvoice","editInvoice"])},watch:{editInvoice(){this.editInvoice||(this.currentInvoice=this.currentInvoiceArray[0])},renewInvoice(){this.renewInvoice||(this.currentInvoice=this.currentInvoiceArray[0])}}};i("9cc5");const kt=p()(Nt,[["render",_t],["__scopeId","data-v-33177a3a"]]);var St=kt;const Pt=[{path:"/",name:"Home",component:lt},{path:"/invoice/:invoiceId",name:"Invoice",component:St}],At=Object(we["a"])({history:Object(we["b"])("/invoice-app/"),routes:Pt});var Gt=At,Ut=Object(r["a"])({state:{invoiceData:[],invoiceModal:null,modalActive:null,invoicesLoaded:null,currentInvoiceArray:null,editInvoice:null},mutations:{TOGGLE_INVOICE(e){e.invoiceModal=!e.invoiceModal},TOGGLE_MODAL(e){e.modalActive=!e.modalActive},SET_INVOICE_DATA(e,t){e.invoiceData.push(t)},INVOICES_LOADED(e){e.invoicesLoaded=!0},SET_CURRENT_INVOICE(e,t){e.currentInvoiceArray=e.invoiceData.filter(e=>e.invoiceId===t)},TOGGLE_EDIT_INVOICE(e){e.editInvoice=!e.editInvoice},TOGGLE_RENEW_INVOICE(e){e.renewInvoice=!e.renewInvoice},DELETE_INVOICE(e,t){e.invoiceData=e.invoiceData.filter(e=>e.docId!==t)},UPDATE_STATUS_TO_PAID(e,t){e.invoiceData.forEach(e=>{e.docId===t&&(e.invoicePaid=!0,e.invoicePending=!1)})},UPDATE_STATUS_TO_PENDING(e,t){e.invoiceData.forEach(e=>{e.docId===t&&(e.invoicePaid=!1,e.invoicePending=!0,e.invoiceDraft=!1)})}},actions:{async GET_INVOICES({commit:e,state:t}){const i=le.collection("invoices").orderBy("invoicePending","desc").orderBy("paymentDueDateUnix","asc"),n=await i.get();n.forEach(i=>{if(!t.invoiceData.some(e=>e.docId===i.id)){const t={docId:i.id,invoiceId:i.data().invoiceId,billerStreetAddress:i.data().billerStreetAddress,billerZipCode:i.data().billerZipCode,clientName:i.data().clientName,clientEmail:i.data().clientEmail,clientStreetAddress:i.data().clientStreetAddress,clientZipCode:i.data().clientZipCode,invoiceDateUnix:i.data().invoiceDateUnix,invoiceDate:i.data().invoiceDate,paymentTerms:i.data().paymentTerms,paymentDueDateUnix:i.data().paymentDueDateUnix,paymentDueDate:i.data().paymentDueDate,productDescription:i.data().productDescription,invoiceItemList:i.data().invoiceItemList,invoiceTotal:i.data().invoiceTotal,invoicePending:i.data().invoicePending,invoiceDraft:i.data().invoiceDraft,invoicePaid:i.data().invoicePaid};e("SET_INVOICE_DATA",t)}}),e("INVOICES_LOADED")},async UPDATE_INVOICE({commit:e,dispatch:t},{docId:i,routeId:n}){e("DELETE_INVOICE",i),await t("GET_INVOICES"),e("TOGGLE_INVOICE"),e("TOGGLE_EDIT_INVOICE"),e("SET_CURRENT_INVOICE",n)},async DELETE_INVOICE({commit:e},t){const i=le.collection("invoices").doc(t);await i.delete(),e("DELETE_INVOICE",t)},async UPDATE_STATUS_TO_PAID({commit:e},t){const i=le.collection("invoices").doc(t);await i.update({invoicePaid:!0,invoicePending:!1}),e("UPDATE_STATUS_TO_PAID",t)},async UPDATE_STATUS_TO_PENDING({commit:e},t){const i=le.collection("invoices").doc(t);await i.update({invoicePaid:!1,invoicePending:!0,invoiceDraft:!1}),e("UPDATE_STATUS_TO_PENDING",t)}},modules:{}});async function Vt(){const e=await i.e("webfontloader").then(i.t.bind(null,"27d6",7));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Vt(),Object(n["d"])(xe).use(Gt).use(Ut).mount("#app")},"62a0":function(e,t,i){},"65b0":function(e,t,i){},7161:function(e,t,i){"use strict";i("7344")},7341:function(e,t,i){"use strict";i("e38e")},7344:function(e,t,i){},7345:function(e,t,i){e.exports=i.p+"img/icon-delete.f4e672a7.svg"},"896d":function(e,t,i){"use strict";i("62a0")},"952f":function(e,t,i){e.exports=i.p+"img/illustration-empty.b5ea7699.svg"},"9cc5":function(e,t,i){"use strict";i("65b0")},"9ef1":function(e,t,i){e.exports=i.p+"img/icon-arrow-left.84c9b35f.svg"},ab83:function(e,t,i){},b3dc:function(e,t,i){"use strict";i("4e03")},c43b:function(e,t,i){e.exports=i.p+"img/icon-arrow-right.7b0bb5ab.svg"},d0d5:function(e,t,i){e.exports=i.p+"img/icon-plus.e562c3c7.svg"},d5e8:function(e,t,i){},e38e:function(e,t,i){},e88b:function(e,t,i){e.exports=i.p+"img/file-invoice-dollar-solid.4c212de9.png"}});
//# sourceMappingURL=app.45598b0b.js.map